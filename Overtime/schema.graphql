type SportMarket @entity {
  id: ID!
  timestamp: BigInt!
  address: String!
  maturityDate: BigInt!
  tags: [BigInt!]
  isOpen: Boolean
  isResolved: Boolean
  isCanceled: Boolean
  finalResult: BigInt
  poolSize: BigInt
  numberOfParticipants: BigInt
  homeTeam: String
  awayTeam: String
  homeOdds: BigInt
  awayOdds: BigInt
  drawOdds: BigInt
  homeScore: BigInt
  awayScore: BigInt
  upAddress: Bytes!
  downAddress: Bytes!
  drawAddress: Bytes!
  isApex: Boolean
  resultDetails: String
  isPaused: Boolean
  leagueRaceName: String
  qualifyingStartTime: BigInt
  arePostQualifyingOddsFetched: Boolean
  betType: BigInt
}

type SportMarketOddsHistory @entity {
  id: ID!
  timestamp: BigInt!
  address: Bytes!
  maturityDate: BigInt!
  tags: [BigInt!]!
  isOpen: Boolean!
  isResolved: Boolean!
  isCanceled: Boolean!
  finalResult: BigInt!
  poolSize: BigInt!
  numberOfParticipants: BigInt!
  homeTeam: String!
  awayTeam: String!
  homeOdds: [BigInt!]!
  awayOdds: [BigInt!]!
  drawOdds: [BigInt!]!
  homeScore: BigInt
  awayScore: BigInt
  isPaused: Boolean
}

type MarketToGameId @entity {
  id: ID!
  gameId: Bytes!
}

enum MarketTransactionType {
  buy
  sell
}

type ClaimTx @entity(immutable: true) {
  id: ID!
  timestamp: BigInt!
  account: Bytes!
  amount: BigInt!
  market: SportMarket!
  caller: Bytes!
}

type MarketTransaction @entity {
  id: ID!
  hash: Bytes!
  timestamp: BigInt!
  blockNumber: BigInt!
  type: MarketTransactionType!
  account: Bytes!
  market: Bytes!
  amount: BigInt!
  paid: BigInt!
  position: BigInt!
  wholeMarket: SportMarket!
  positionBalance: PositionBalance!
}

enum PositionType {
  home
  away
  draw
}

type Position @entity {
  id: ID!
  market: SportMarket!
  side: PositionType!
  claimable: Boolean!
}

type PositionBalance @entity {
  id: ID!
  account: Bytes!
  amount: BigInt!
  position: Position!
}

type OvertimeVoucher @entity {
  id: ID!
  address: Bytes!
}

type BuyTransaction @entity {
  id: ID!
  marketTransactionId: String!
  positionBalanceId: String!
}

type Race @entity {
  id: ID!
  raceName: String!
  startTime: BigInt!
  qualifyingStartTime: BigInt!
}

type ParlayMarket @entity {
  id: ID!
  sportMarkets: [SportMarket!]!
  positions: [Position!]!
  marketQuotes: [BigInt!]
  account: Bytes!
  totalAmount: BigInt!
  sUSDAfterFees: BigInt!
  totalQuote: BigInt
  skewImpact: BigInt
  timestamp: BigInt!
  lastGameStarts: BigInt!
  blockNumber: BigInt!
  claimed: Boolean!
  won: Boolean!
}

type User @entity {
  id: ID!
  volume: BigInt!
  pnl: BigInt!
  trades: Int
}

specVersion: 0.0.6
schema:
  file: ../schema.graphql
dataSources:
  - kind: ethereum/contract
    name: StakingThales
    network: optimism-kovan
    source:
      address: '0x8417D248274439360CC38Be84CfFDc01226600F8'
      abi: StakingThales
      startBlock: 4621926
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ../src/token-mapping.ts
      entities:
        - TokenTransaction
      abis:
        - name: StakingThales
          file: ../abis/StakingThales.json
      eventHandlers:
        - event: Staked(address,uint256)
          handler: handleStakedEvent
        - event: UnstakeCooldown(address,uint256,uint256)
          handler: handleStartUnstakeEvent
        - event: Unstaked(address,uint256)
          handler: handleUnstakedEvent
        - event: CancelUnstake(address)
          handler: handleCancelUnstakeEvent
        - event: RewardsClaimed(address,uint256,uint256,uint256,uint256)
          handler: handleStakingRewardsClaimEvent
        - event: AccountMerged(address,address)
          handler: handleAccountMergedEvent
  - kind: ethereum/contract
    name: StakingThales_OldRewardsClaimed
    network: optimism-kovan
    source:
      address: '0x8417D248274439360CC38Be84CfFDc01226600F8'
      abi: StakingThales_OldRewardsClaimed
      startBlock: 4621926
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ../src/token-mapping.ts
      entities:
        - TokenTransaction
      abis:
        - name: StakingThales_OldRewardsClaimed
          file: ../abis/StakingThales_OldRewardsClaimed.json
      eventHandlers:
        - event: RewardsClaimed(address,uint256)
          handler: handleOldStakingRewardsClaimEvent
  - kind: ethereum/contract
    name: EscrowThales
    network: optimism-kovan
    source:
      address: '0xEeDe0f1D1d70009348f3D9a66Fe03BA3CA0Aeef7'
      abi: EscrowThales
      startBlock: 4621926
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ../src/token-mapping.ts
      entities:
        - TokenTransaction
      abis:
        - name: EscrowThales
          file: ../abis/EscrowThales.json
      eventHandlers:
        - event: AddedToEscrow(address,uint256)
          handler: handleAddedToEscrowEvent
        - event: Vested(address,uint256)
          handler: handleVestedEvent
  - kind: ethereum/contract
    name: LPStakingRewards
    network: optimism-kovan
    source:
      address: '0x44d55a58211b2120Dc9f280ae68B99ffcaC03c7C'
      abi: LPStakingRewards
      startBlock: 1351739
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ../src/token-mapping.ts
      entities:
        - TokenTransaction
      abis:
        - name: LPStakingRewards
          file: ../abis/LPStakingRewards.json
      eventHandlers:
        - event: Staked(indexed address,uint256)
          handler: handleLpStakedEvent
        - event: Withdrawn(indexed address,uint256)
          handler: handleWithdrawnEvent
        - event: RewardPaid(indexed address,uint256)
          handler: handleRewardPaidEvent
        - event: SecondRewardTokenPaid(indexed address,uint256)
          handler: handleSecondRewardTokenPaidEvent
